/*
 * main.c
 *
 *  Created on: Sep 5, 2025
 *      Author: NIKHIL
 */


#include<stdio.h>
#include<stdint.h>
#include<string.h>


void intefrace();
void AddData();
void DeleteData();
void DisplayData();

typedef struct{
	char name[30];
	uint32_t rollno;
	char DOB[10];
	uint8_t sem;

}student_data_t;

student_data_t student[10];

int main(){

	intefrace();
	return 0;
}

void intefrace(){

	uint8_t choice;
	while(1){

		printf("\n\n");
		printf("select Choice: \n");
		printf("1 => Add data\n");
		printf("2 => Delete data\n");
		printf("3 => Display data\n");
		printf("0 => EXIT PROGRAM\n");
		printf("\n\n");


		scanf("%d",&choice);
		if(choice == 1){
			AddData();
		}
		else if (choice == 2) {
			DeleteData();
		}else if (choice == 3) {
			 DisplayData();
		}
		else if (choice == 4) {
			break;
		}else {
			printf("Enter Correct Choice !!! \n");
		}
		}
}

void AddData(student_data_t *pStudent){
	uint8_t flag = 0;
	uint32_t rollNo;

	printf("Enter rollno: ");
	scanf("%d",&rollNo);
	for(uint8_t i = 0 ; i < 10;i++){
		if(pStudent->rollno == rollNo){
			flag+=1;
		}
		pStudent++;
	}

	if(flag < 1 ){
		for(uint8_t i = 0 ; i < 10;i++){
			if(pStudent->rollno == 0){
				pStudent->rollno = rollNo;
				printf("Enter Name: ");
				scanf("%s[^\n]s", pStudent->name);

				printf("Enter DOB(MM/DD/YYYY): ");
				scanf("%s", pStudent->DOB);

				printf("Enter SEM: ");
				scanf("%d", pStudent->sem);

				printf("Details added");
				intefrace();
				break;
			}
			pStudent++;
		}
	}
	else{
		printf("Roll no already exists\n");
		printf("Retype again\n");
		intefrace();
	}
}

void DeleteData(student_data_t *pStudent){
	uint32_t rollNo;
	uint8_t flag = 0;

	printf("Enter roll no : ");
	scanf("%d",&rollNo);

	for(uint8_t i = 0 ; i < 10;i++){

		if(pStudent->rollno == rollNo){
			flag +=1;
			pStudent->rollno = 0;
			pStudent->DOB = "";
			pStudent->name = "";
			pStudent->sem = 0;
		}
		pStudent++;
	}
	if(flag <=1 ){
		printf("data removed\n");
		intefrace();
	}
	else {
		printf("No record found");
		intefrace();
	}
}

void DisplayData(student_data_t *pStudent){

	printf("Roll no \t Name \t DOB \t SEM\n");

	for(uint8_t i = 0 ; i < 10;i++){
		if(pStudent->rollno >= 1){
			printf("%d \t %s \t %s \t %d \n",student->rollno,student->name,student->DOB,student->sem);
		}
	}
	intefrace();
}

